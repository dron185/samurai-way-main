"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[803],{803:function(s,t,e){e.r(t),e.d(t,{ProfileContainer:function(){return q},default:function(){return z}});var i=e(8683),o=e(5671),r=e(3144),n=e(136),a=e(5716),u=e(2791),l="Profile_profile__F6H+d",c=e(885),d="ProfileInfo_profileInfo__gp86+",p="ProfileInfo_profilePhoto__giXiE",f="ProfileInfo_descriptionBlock__BdY2B",h="ProfileInfo_mainPhoto__LRHSO",j="ProfileInfo_contact__C09Gp",x=e(986),m=e(2995),v=e(184),P=function(s){var t=(0,u.useState)(!1),e=(0,c.Z)(t,2),i=e[0],o=e[1],r=(0,u.useState)(s.status),n=(0,c.Z)(r,2),a=n[0],l=n[1];(0,u.useEffect)((function(){l(s.status)}),[s.status]);return(0,v.jsxs)("div",{children:[!i&&(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Status: "}),(0,v.jsx)("span",{onDoubleClick:function(){o(!0)},children:s.status||"-----"})]}),i&&(0,v.jsx)("div",{children:(0,v.jsx)("input",{onChange:function(s){l(s.currentTarget.value)},onBlur:function(){o(!1),s.updateStatus(a)},value:a,autoFocus:!0})})]})},_=e(4354),g=function(s){s.profile;return(0,v.jsx)("form",{})},b=function(s){var t=(0,u.useState)(!1),e=(0,c.Z)(t,2),i=e[0],o=e[1];if(!s.profile)return(0,v.jsx)(m.p,{});return(0,v.jsxs)("div",{className:d,children:[(0,v.jsx)("div",{className:p,children:(0,v.jsx)("img",{src:x,alt:"Photo"})}),(0,v.jsxs)("div",{className:f,children:[(0,v.jsx)("img",{src:s.profile.photos.large||_,alt:"avatar",className:h}),s.isOwner&&(0,v.jsx)("input",{type:"file",onChange:function(t){t.target.files&&t.target.files.length&&s.savePhoto(t.target.files[0])}}),i?(0,v.jsx)(g,{profile:s.profile}):(0,v.jsx)(k,{profile:s.profile,isOwner:s.isOwner,goToEditMode:function(){o(!0)}}),(0,v.jsx)(P,{status:s.status,updateStatus:s.updateStatus})]})]})},k=function(s){var t=s.profile,e=s.isOwner,i=s.goToEditMode;return(0,v.jsxs)("div",{children:[e&&(0,v.jsx)("div",{children:(0,v.jsx)("button",{onClick:i,children:"edit"})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Full name"}),": ",t.fullName]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(s){return(0,v.jsx)(w,{contactTitle:s,contactValue:t.contacts[s]},s)}))]})]})},w=function(s){var t=s.contactTitle,e=s.contactValue;return(0,v.jsxs)("div",{className:j,children:[(0,v.jsx)("b",{children:t}),": ",e]})},y=e(364),N="MyPosts_postsBlock__nmRx3",S="MyPosts_postsTitle__yUp3G",C="MyPosts_postWrapper__Na3HO",I="MyPosts_posts__KwDaJ",O="Post_item__rqBl2",Z=function(s){return(0,v.jsxs)("div",{className:O,children:[(0,v.jsx)("img",{src:"https://i.pinimg.com/564x/1e/d3/0d/1ed30d98f49be532ae58c62f33677b16.jpg",alt:"avatar"}),s.message,(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{children:"like"})," ",s.likesCount]})]})},M=e(6139),T=e(704),A=e(3079),U=e(1117),F=(0,A.D)(10),B=(0,T.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,v.jsxs)("form",{className:C,onSubmit:s.handleSubmit,children:[(0,v.jsx)("div",{children:(0,v.jsx)(M.Z,{name:"newPostText",component:U.gx,validate:[A.C,F],placeholder:"Post message"})}),(0,v.jsx)("div",{children:(0,v.jsx)("button",{children:"Add post"})})]})})),D=(0,u.memo)((function(s){var t=s.posts.map((function(s){return(0,v.jsx)(Z,{message:s.message,likesCount:s.likesCount},s.id)}));return(0,v.jsxs)("div",{className:N,children:[(0,v.jsx)("h3",{className:S,children:"My posts"}),(0,v.jsx)(B,{onSubmit:function(t){s.addNewPost(t.newPostText)}}),(0,v.jsx)("div",{className:I,children:t})]})})),E=e(81),G=(0,y.$j)((function(s){return{posts:s.profilePage.posts}}),(function(s){return{addNewPost:function(t){s((0,E.Pi)(t))}}}))(D),J=function(s){return(0,v.jsxs)("div",{className:l,children:[(0,v.jsx)(b,{profile:s.profile,status:s.status,updateStatus:s.updateStatus,isOwner:s.isOwner,savePhoto:s.savePhoto}),(0,v.jsx)(G,{})]})},H=e(9271),$=e(7781),q=function(s){(0,n.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,o.Z)(this,e),t.apply(this,arguments)}return(0,r.Z)(e,[{key:"refreshProfile",value:function(){var s=Number(this.props.match.params.userId);s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getUserStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,t){this.props.match.params.userId!==s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,v.jsx)(J,(0,i.Z)((0,i.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))}}]),e}(u.Component),z=(0,$.qC)((0,y.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.id,isAuth:s.auth.isAuth}}),{getUserProfile:E.d$,getUserStatus:E.GP,updateStatus:E.OG,savePhoto:E.Tw}),H.EN)(q)},986:function(s,t,e){s.exports=e.p+"static/media/leaves-1350175_1920.07521196d3c709d0ecfc.jpg"}}]);
//# sourceMappingURL=803.9b517ea8.chunk.js.map