"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[410],{3410:function(t,e,s){s.r(e),s.d(e,{ProfileContainer:function(){return E},default:function(){return J}});var i=s(8683),o=s(5671),a=s(3144),r=s(136),n=s(5716),u=s(2791),l="Profile_profile__F6H+d",c="ProfileInfo_profileInfo__gp86+",p="ProfileInfo_profilePhoto__giXiE",f="ProfileInfo_descriptionBlock__BdY2B",d="ProfileInfo_header__t-mlf",h=s(986),m=s(2995),v=s(885),j=s(184),x=function(t){var e=(0,u.useState)(!1),s=(0,v.Z)(e,2),i=s[0],o=s[1],a=(0,u.useState)(t.status),r=(0,v.Z)(a,2),n=r[0],l=r[1];(0,u.useEffect)((function(){l(t.status)}),[t.status]);return(0,j.jsxs)("div",{children:[!i&&(0,j.jsx)("div",{children:(0,j.jsx)("span",{onDoubleClick:function(){o(!0)},children:t.status||"-----"})}),i&&(0,j.jsx)("div",{children:(0,j.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},onBlur:function(){o(!1),t.updateStatus(n)},value:n,autoFocus:!0})})]})},_=function(t){if(!t.profile)return(0,j.jsx)(m.p,{});var e=[{title:"About me: ",value:t.profile.aboutMe},{title:"Full name: ",value:t.profile.fullName},{title:"Looking for a job description: ",value:t.profile.lookingForAJobDescription},{title:"Contacts: ",value:""},{title:"Facebook: ",value:t.profile.contacts.facebook},{title:"Github: ",value:t.profile.contacts.github},{title:"Twitter: ",value:t.profile.contacts.twitter},{title:"Instagram: ",value:t.profile.contacts.instagram},{title:"VK: ",value:t.profile.contacts.vk},{title:"Youtube: ",value:t.profile.contacts.youtube},{title:"Website: ",value:t.profile.contacts.website},{title:"Main link: ",value:t.profile.contacts.mainLink},{title:"Looking for a job: ",value:t.profile.lookingForAJob}];return(0,j.jsxs)("div",{className:c,children:[(0,j.jsx)("div",{className:p,children:(0,j.jsx)("img",{src:h,alt:"Photo"})}),(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)("img",{src:t.profile.photos.large,alt:"avatar"}),(0,j.jsx)(x,{status:t.status,updateStatus:t.updateStatus}),e.map((function(t){return(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:d,children:t.title}),t.value]})}))]})]})},g=s(364),P="MyPosts_postsBlock__nmRx3",b="MyPosts_postsTitle__yUp3G",k="MyPosts_postWrapper__Na3HO",N="MyPosts_posts__KwDaJ",S="Post_item__rqBl2",w=function(t){return(0,j.jsxs)("div",{className:S,children:[(0,j.jsx)("img",{src:"https://i.pinimg.com/564x/1e/d3/0d/1ed30d98f49be532ae58c62f33677b16.jpg",alt:"avatar"}),t.message,(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{children:"like"})," ",t.likesCount]})]})},y=s(6139),C=s(704),Z=s(3079),I=s(1117),M=(0,Z.D)(10),A=(0,C.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,j.jsxs)("form",{className:k,onSubmit:t.handleSubmit,children:[(0,j.jsx)("div",{children:(0,j.jsx)(y.Z,{name:"newPostText",component:I.gx,validate:[Z.C,M],placeholder:"Post message"})}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{children:"Add post"})})]})})),F=(0,u.memo)((function(t){var e=t.posts.map((function(t){return(0,j.jsx)(w,{message:t.message,likesCount:t.likesCount},t.id)}));return(0,j.jsxs)("div",{className:P,children:[(0,j.jsx)("h3",{className:b,children:"My posts"}),(0,j.jsx)(A,{onSubmit:function(e){t.addNewPost(e.newPostText)}}),(0,j.jsx)("div",{className:N,children:e})]})})),U=s(81),B=(0,g.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addNewPost:function(e){t((0,U.Pi)(e))}}}))(F),D=function(t){return(0,j.jsxs)("div",{className:l,children:[(0,j.jsx)(_,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,j.jsx)(B,{})]})},T=s(9271),G=s(7781),E=function(t){(0,r.Z)(s,t);var e=(0,n.Z)(s);function s(){return(0,o.Z)(this,s),e.apply(this,arguments)}return(0,a.Z)(s,[{key:"componentDidMount",value:function(){var t=Number(this.props.match.params.userId);t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return(0,j.jsx)(D,(0,i.Z)((0,i.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),s}(u.Component),J=(0,G.qC)((0,g.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:U.d$,getUserStatus:U.GP,updateStatus:U.OG}),T.EN)(E)},986:function(t,e,s){t.exports=s.p+"static/media/leaves-1350175_1920.07521196d3c709d0ecfc.jpg"}}]);
//# sourceMappingURL=410.8e492d81.chunk.js.map